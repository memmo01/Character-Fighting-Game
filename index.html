<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
</head>
<style>
    #characterRow{
        width:100%;
        display:inline-flex;
    }
    .characterBox{
        width:25%;
        text-align: center;
        border:2px solid black;
    }
    #available-enemies{
        float:right;
    }
    </style>
<body>

    <div id="characterList">
    </div>
    <div id="selectedCharacter"></div>

    <div id="available-enemies">
    </div>
    <div id="selectedEnemy">
        </div>


    <script type="text/javascript">
$(document).ready(function() {
const characters={
    "dragon breathe":{
        name:"dragon breathe",
        age:103,
        attack:40,
        defense:10
},"quick jack":{
        name:"quick jack",
        age:20,
        attack:30,
        defense:40
    },"leaping laura":{
        name:"leaping laura",
        age:30,
        attack:60,
        defense:20
    },"powerful czar":{
        name:"powerful czar",
        age:50,
        attack:50,
        defense:10
    }}

    var selectedCharacter;
    var enemyCharacter;
    var enemyArr=[]



    var renderOne= function(charObj,areaDisplay,status){
        console.log(charObj.name)
        var char = $("<div class='character' data-name='"+charObj.name+"'>");
        var charName=$("<div class='character-name'>").text(charObj.name);
        var charAge=$("<div class='character-age'>").text("Age: "+charObj.age);
        var charAttack = $("<div class='character-attack'>").text("attack "+charObj.attack);
        var charDefense= $("<div class='character-defense'>").text("Defense: "+charObj.defense);
     
                $(char).append(charName).append(charAge).append(charAttack).append(charDefense);
                $(areaDisplay).append(char)

                if(status==="selectedCharacter"){
                    $(char).attr("class","selectedCharacter")
                }
                if(status === "enemy"){
                    $(char).attr("class","enemies")
                }
                if(status === "selectedEnemy"){
                    $(char).attr("class","selectedEnemy");

                    let attackBtn=$("<button>");
                        attackBtn.addClass("attackBtn");
                        attackBtn.text("Attack");
                        $(".selectedCharacter").append(attackBtn)

                }
    }



    var renderChar = function(charObj, areaDisplay,status){
        if(areaDisplay === "#characterList"){
            for(var key in charObj){
                renderOne(charObj[key],areaDisplay,"")
            }
        }

        else if(areaDisplay === "#selectedCharacter"){
           
            renderOne(charObj,areaDisplay,"selectedCharacter")

        }
        else if(areaDisplay === "#available-enemies"){
            for(var i=0;i<enemyArr.length;i++){
                renderOne(enemyArr[i],"#available-enemies",status)
            }
        }
        else if(areaDisplay === "enemyCharacter"){
            renderOne(charObj, "#selectedEnemy","")
        }

        $(".character").on("click",function(){
            var name=$(this).data("name");
            if(!selectedCharacter){
                selectedCharacter = characters[$(this).data("name")]
               
            }
            console.log(selectedCharacter)
            $("#characterList").hide()

            for(var key in characters){
                if(key !=name){
                    enemyArr.push(characters[key])
                }
            }
            console.log(enemyArr)
              renderChar(selectedCharacter,"#selectedCharacter")
            renderChar(enemyArr,"#available-enemies","enemy");
           
        })

        

        $(".enemies").on("click",function(){
         if(!enemyCharacter){
                enemyCharacter=($(this).data("name"))
         }
            $("#available-enemies").hide()
            renderOne(characters[enemyCharacter],"#selectedEnemy","selectedEnemy")
        })

    }


renderChar(characters,"#characterList")











// let onload = ()=>{
//     let x = document.getElementById("characterRow")
//     for(var i=0;i<characters.length;i++){
        
//         $(x).append(organizeCharInfo(characters[i]))
      

//         }
//    $(".characterBox").on("click",function(){
//             var p=($(this).data("name"));
//             for(var key in characters){
//                    $(".l"+characters[key].attack+"").attr("class","move")
//                    $(".l"+characters[key].attack+"").css("display","none")

//                 }
//             })}
      

// let organizeCharInfo= function(character){
//     console.log(character)
//         let name= character.name;
//         let age= character.age;
//         let attack= character.attack;
//         let defense= character.defense;
    
//         let container = $("<div>");
//             container.addClass("characterBox "+"l"+attack)
//             container.attr("data-name", name)
//             container.attr("id", name)

//         let nameTitle= $("<div>");
        
//             nameTitle.text("name "+ character.name);
        
//             let ageTitle=$("<div>")
//             ageTitle.text("Age: "+ age);

//         let attackTitle=$("<div>");
//            attackTitle.text("Attack: "+ attack);

//         let defenseTitle=$("<div>");
//             defenseTitle.text("Defense: "+ defense);

//         let infoCombined= $(container).append(nameTitle).append(ageTitle).append(attackTitle).append(defenseTitle)

//         return infoCombined;     
      


  

// }
    

   


//     onload()
})
</script>
</body>
</html>